{"ast":null,"code":"import _objectSpread from\"D:/MilitaryAssetManagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[stats,setStats]=useState(null);const[baseId,setBaseId]=useState(1);const[fromDate,setFromDate]=useState('');const[toDate,setToDate]=useState('');const[type,setType]=useState('');const fetchDashboardStats=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const token=localStorage.getItem('token');const response=await axios.get(\"http://localhost:5000/api/assets/dashboard\",{headers:{Authorization:\"Bearer \".concat(token)},params:_objectSpread({base_id:baseId},filters)});setStats(response.data);}catch(err){console.error('Failed to fetch dashboard stats:',err);}};useEffect(()=>{fetchDashboardStats();},[]);const handleApplyFilters=()=>{fetchDashboardStats({from_date:fromDate,to_date:toDate,type});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Military Asset Management Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"From: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:fromDate,onChange:e=>setFromDate(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:'10px'},children:\"To: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:toDate,onChange:e=>setToDate(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:'10px'},children:\"Equipment Type: \"}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Weapon\",children:\"Weapon\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Vehicle\",children:\"Vehicle\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleApplyFilters,style:{marginLeft:'10px'},children:\"Apply Filters\"})]}),stats?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Base \",baseId,\" Summary\"]}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"8\",style:{borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Opening Balance\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Transfers In\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Transfers Out\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Purchases\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Net Movement\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Closing Balance\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:stats.opening_balance}),/*#__PURE__*/_jsx(\"td\",{children:stats.transfer_in}),/*#__PURE__*/_jsx(\"td\",{children:stats.transfer_out}),/*#__PURE__*/_jsx(\"td\",{children:stats.purchases}),/*#__PURE__*/_jsx(\"td\",{children:stats.net_movement}),/*#__PURE__*/_jsx(\"td\",{children:stats.closing_balance})]})})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading dashboard stats...\"})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","stats","setStats","baseId","setBaseId","fromDate","setFromDate","toDate","setToDate","type","setType","fetchDashboardStats","filters","arguments","length","undefined","token","localStorage","getItem","response","get","headers","Authorization","concat","params","_objectSpread","base_id","data","err","console","error","handleApplyFilters","from_date","to_date","style","padding","children","marginBottom","value","onChange","e","target","marginLeft","onClick","border","cellPadding","borderCollapse","opening_balance","transfer_in","transfer_out","purchases","net_movement","closing_balance"],"sources":["D:/MilitaryAssetManagementSystem/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Dashboard() {\r\n  const [stats, setStats] = useState(null);\r\n  const [baseId, setBaseId] = useState(1);\r\n  const [fromDate, setFromDate] = useState('');\r\n  const [toDate, setToDate] = useState('');\r\n  const [type, setType] = useState('');\r\n\r\n  const fetchDashboardStats = async (filters = {}) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n\r\n      const response = await axios.get(`http://localhost:5000/api/assets/dashboard`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: {\r\n          base_id: baseId,\r\n          ...filters\r\n        }\r\n      });\r\n\r\n      setStats(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch dashboard stats:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDashboardStats();\r\n  }, []);\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchDashboardStats({\r\n      from_date: fromDate,\r\n      to_date: toDate,\r\n      type\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1>Military Asset Management Dashboard</h1>\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <label>From: </label>\r\n        <input type=\"date\" value={fromDate} onChange={e => setFromDate(e.target.value)} />\r\n\r\n        <label style={{ marginLeft: '10px' }}>To: </label>\r\n        <input type=\"date\" value={toDate} onChange={e => setToDate(e.target.value)} />\r\n\r\n        <label style={{ marginLeft: '10px' }}>Equipment Type: </label>\r\n        <select value={type} onChange={e => setType(e.target.value)}>\r\n          <option value=\"\">All</option>\r\n          <option value=\"Weapon\">Weapon</option>\r\n          <option value=\"Vehicle\">Vehicle</option>\r\n        </select>\r\n\r\n        <button onClick={handleApplyFilters} style={{ marginLeft: '10px' }}>\r\n          Apply Filters\r\n        </button>\r\n      </div>\r\n\r\n      {stats ? (\r\n        <div>\r\n          <h2>Base {baseId} Summary</h2>\r\n          <table border=\"1\" cellPadding=\"8\" style={{ borderCollapse: 'collapse' }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Opening Balance</th>\r\n                <th>Transfers In</th>\r\n                <th>Transfers Out</th>\r\n                <th>Purchases</th>\r\n                <th>Net Movement</th>\r\n                <th>Closing Balance</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>{stats.opening_balance}</td>\r\n                <td>{stats.transfer_in}</td>\r\n                <td>{stats.transfer_out}</td>\r\n                <td>{stats.purchases}</td>\r\n                <td>{stats.net_movement}</td>\r\n                <td>{stats.closing_balance}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <p>Loading dashboard stats...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}