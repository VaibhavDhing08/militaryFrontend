{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Link}from'react-router-dom';import Dashboard from'./pages/Dashboard';import AssetPurchase from'./pages/AssetPurchase';import AssetTransfer from'./pages/AssetTransfer';import AssetAssignment from'./pages/AssetAssignment';import AssetExpenditure from'./pages/AssetExpenditure';import TransactionHistory from'./pages/TransactionHistory';import Login from'./pages/Login';import Signup from'./pages/Signup';import PrivateRoute from'./components/PrivateRoute';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);// Track login status on page load & whenever localStorage changes\nuseEffect(()=>{const checkAuth=()=>{const token=localStorage.getItem('token');setIsLoggedIn(!!token);};checkAuth();window.addEventListener('storage',checkAuth);// for cross-tab logout too\nreturn()=>{window.removeEventListener('storage',checkAuth);};},[]);const handleLogout=()=>{localStorage.removeItem('token');setIsLoggedIn(false);window.location.href='/login';};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{style:{padding:'10px',background:'#eee'},children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{margin:'10px'},children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/purchase\",style:{margin:'10px'},children:\"Purchase\"}),/*#__PURE__*/_jsx(Link,{to:\"/transfer\",style:{margin:'10px'},children:\"Transfer\"}),/*#__PURE__*/_jsx(Link,{to:\"/assign-asset\",style:{margin:'10px'},children:\"Assign Asset\"}),/*#__PURE__*/_jsx(Link,{to:\"/expend-asset\",style:{margin:'10px'},children:\"Expend Asset\"}),/*#__PURE__*/_jsx(Link,{to:\"/transactions\",style:{margin:'10px'},children:\"Transaction History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{margin:'10px'},children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{margin:'10px'},children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{margin:'10px'},children:\"Signup\"})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/purchase\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AssetPurchase,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/transfer\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AssetTransfer,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/assign-asset\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AssetAssignment,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/expend-asset\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AssetExpenditure,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/transactions\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(TransactionHistory,{})})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","Dashboard","AssetPurchase","AssetTransfer","AssetAssignment","AssetExpenditure","TransactionHistory","Login","Signup","PrivateRoute","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","checkAuth","token","localStorage","getItem","window","addEventListener","removeEventListener","handleLogout","removeItem","location","href","children","style","padding","background","to","margin","onClick","path","element"],"sources":["D:/MilitaryAssetManagementSystem/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport Dashboard from './pages/Dashboard';\nimport AssetPurchase from './pages/AssetPurchase';\nimport AssetTransfer from './pages/AssetTransfer';\nimport AssetAssignment from './pages/AssetAssignment';\nimport AssetExpenditure from './pages/AssetExpenditure';\nimport TransactionHistory from './pages/TransactionHistory';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport PrivateRoute from './components/PrivateRoute';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  // Track login status on page load & whenever localStorage changes\n  useEffect(() => {\n    const checkAuth = () => {\n      const token = localStorage.getItem('token');\n      setIsLoggedIn(!!token);\n    };\n\n    checkAuth();\n\n    window.addEventListener('storage', checkAuth); // for cross-tab logout too\n\n    return () => {\n      window.removeEventListener('storage', checkAuth);\n    };\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n    window.location.href = '/login';\n  };\n\n  return (\n    <Router>\n      <div>\n        <nav style={{ padding: '10px', background: '#eee' }}>\n          {isLoggedIn ? (\n            <>\n              <Link to=\"/\" style={{ margin: '10px' }}>Dashboard</Link>\n              <Link to=\"/purchase\" style={{ margin: '10px' }}>Purchase</Link>\n              <Link to=\"/transfer\" style={{ margin: '10px' }}>Transfer</Link>\n              <Link to=\"/assign-asset\" style={{ margin: '10px' }}>Assign Asset</Link>\n              <Link to=\"/expend-asset\" style={{ margin: '10px' }}>Expend Asset</Link>\n              <Link to=\"/transactions\" style={{ margin: '10px' }}>Transaction History</Link>\n              <button\n                onClick={handleLogout}\n                style={{ margin: '10px' }}\n              >\n                Logout\n              </button>\n            </>\n          ) : (\n            <>\n              <Link to=\"/login\" style={{ margin: '10px' }}>Login</Link>\n              <Link to=\"/signup\" style={{ margin: '10px' }}>Signup</Link>\n            </>\n          )}\n        </nav>\n\n        <Routes>\n          {/* Public Routes */}\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/signup\" element={<Signup />} />\n\n          {/* Protected Routes */}\n          <Route path=\"/\" element={<PrivateRoute><Dashboard /></PrivateRoute>} />\n          <Route path=\"/purchase\" element={<PrivateRoute><AssetPurchase /></PrivateRoute>} />\n          <Route path=\"/transfer\" element={<PrivateRoute><AssetTransfer /></PrivateRoute>} />\n          <Route path=\"/assign-asset\" element={<PrivateRoute><AssetAssignment /></PrivateRoute>} />\n          <Route path=\"/expend-asset\" element={<PrivateRoute><AssetExpenditure /></PrivateRoute>} />\n          <Route path=\"/transactions\" element={<PrivateRoute><TransactionHistory /></PrivateRoute>} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}