{"ast":null,"code":"import _objectSpread from\"D:/MilitaryAssetManagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AssetAssignment=()=>{const[assets,setAssets]=useState([]);const[formData,setFormData]=useState({asset_id:'',personnel_name:'',quantity:'',assigned_date:''});useEffect(()=>{const fetchAssets=async()=>{const token=localStorage.getItem('token');const res=await axios.get('http://localhost:5000/api/assets/assets',{headers:{Authorization:\"Bearer \".concat(token)}});setAssets(res.data);};fetchAssets();},[]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();try{await axios.post('http://localhost:5000/api/assets/assign',formData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});alert('Asset assigned successfully');setFormData({asset_id:'',personnel_name:'',quantity:'',assigned_date:''});}catch(error){console.error(error);alert('Failed to assign asset');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Assign Asset\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Asset:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"asset_id\",value:formData.asset_id,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Asset\"}),assets.map(a=>/*#__PURE__*/_jsxs(\"option\",{value:a.asset_id,children:[a.asset_name,\" (ID: \",a.asset_id,\")\"]},a.asset_id))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"personnel_name\",placeholder:\"Personnel Name\",value:formData.personnel_name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",placeholder:\"Quantity\",value:formData.quantity,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"assigned_date\",value:formData.assigned_date,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Assign\"})]})]});};export default AssetAssignment;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","AssetAssignment","assets","setAssets","formData","setFormData","asset_id","personnel_name","quantity","assigned_date","fetchAssets","token","localStorage","getItem","res","get","headers","Authorization","concat","data","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","post","alert","error","console","children","onSubmit","onChange","required","map","a","asset_name","type","placeholder"],"sources":["D:/MilitaryAssetManagementSystem/frontend/src/pages/AssetAssignment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AssetAssignment = () => {\r\n  const [assets, setAssets] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    asset_id: '',\r\n    personnel_name: '',\r\n    quantity: '',\r\n    assigned_date: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchAssets = async () => {\r\n      const token = localStorage.getItem('token');\r\n      const res = await axios.get('http://localhost:5000/api/assets/assets', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setAssets(res.data);\r\n    };\r\n    fetchAssets();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({...formData, [e.target.name]: e.target.value});\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/assets/assign', formData, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      alert('Asset assigned successfully');\r\n      setFormData({ asset_id: '', personnel_name: '', quantity: '', assigned_date: '' });\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Failed to assign asset');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Assign Asset</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Asset:</label>\r\n        <select name=\"asset_id\" value={formData.asset_id} onChange={handleChange} required>\r\n          <option value=\"\">Select Asset</option>\r\n          {assets.map(a => (\r\n            <option key={a.asset_id} value={a.asset_id}>\r\n              {a.asset_name} (ID: {a.asset_id})\r\n            </option>\r\n          ))}\r\n        </select><br/>\r\n\r\n        <input type=\"text\" name=\"personnel_name\" placeholder=\"Personnel Name\" value={formData.personnel_name} onChange={handleChange} required />\r\n        <input type=\"number\" name=\"quantity\" placeholder=\"Quantity\" value={formData.quantity} onChange={handleChange} required />\r\n        <input type=\"date\" name=\"assigned_date\" value={formData.assigned_date} onChange={handleChange} required />\r\n        <button type=\"submit\">Assign</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssetAssignment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}